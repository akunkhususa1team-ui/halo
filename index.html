<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<title>Untuk Aila ğŸ’˜</title>

<!-- Anti IG Preview -->
<meta property="og:title" content="">
<meta property="og:description" content="">
<meta property="og:image" content="">

<style>
:root{
  --pink:#ff3d7f;
  --soft:#ff9bbb;
  --dark:#120012;
  --card:rgba(255,255,255,.14);
}

*{margin:0;padding:0;box-sizing:border-box}
html,body{width:100%;height:100%;font-family:"Segoe UI",Arial,sans-serif}

body{
  background:radial-gradient(circle at top,var(--soft),var(--dark));
  display:flex;
  flex-direction:column;
  overflow:hidden;
  color:white;
}

/* OPENING */
#opening{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.7);
  backdrop-filter:blur(16px);
  display:grid;
  place-items:center;
  font-size:clamp(18px,4vw,28px);
  cursor:pointer;
  z-index:999;
  transition:opacity 1s ease;
}
.fade-out{opacity:0;pointer-events:none}

/* MAIN */
.container{
  flex:1;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:18px;
}

.card{
  width:100%;
  max-width:360px;
  background:var(--card);
  backdrop-filter:blur(14px);
  border-radius:26px;
  padding:26px 22px 30px;
  text-align:center;
  box-shadow:0 25px 60px rgba(0,0,0,.4);
}

h1{
  font-size:clamp(22px,6vw,34px);
  margin-bottom:6px;
  text-shadow:0 2px 6px rgba(0,0,0,.5);
}

h2{
  font-size:clamp(15px,4.5vw,20px);
  font-weight:400;
  margin-bottom:18px;
  color:#ffe8ef;
}

/* PHOTO */
.photo{
  width:180px;
  max-width:65vw;
  aspect-ratio:1/1;
  border-radius:18px;
  object-fit:cover;
  box-shadow:0 0 30px var(--pink);
  margin:14px auto 20px;
  display:block;
}

/* BUTTON */
.buttons{
  position:relative;
  width:100%;
  height:110px;
}

button{
  padding:14px 24px;
  font-size:clamp(14px,4vw,18px);
  border:none;
  border-radius:16px;
  cursor:pointer;
  position:absolute;
  transition:.15s;
  touch-action:none;
}

#yesBtn{
  left:10%;
  background:var(--pink);
  color:white;
  box-shadow:0 0 18px var(--pink);
}

#noBtn{
  right:10%;
  background:#666;
  color:white;
}

/* RUNNING TEXT */
.running{
  background:var(--pink);
  padding:12px 0;
  overflow:hidden;
}

.running span{
  display:inline-block;
  white-space:nowrap;
  padding-left:100%;
  animation:scroll 14s linear infinite;
}

@keyframes scroll{
  to{transform:translateX(-100%)}
}

/* HEART */
.heart{
  position:fixed;
  top:-20px;
  font-size:22px;
  animation:fall linear forwards;
  pointer-events:none;
}

@keyframes fall{
  to{transform:translateY(110vh);opacity:0}
}
</style>
</head>

<body>

<div id="opening">âœ¨ Klik untuk mulai âœ¨</div>

<div class="container">
  <div class="card">
    <h1>Untuk Aila ğŸ’–</h1>
    <img src="foto.jpg" class="photo">
    <h2>Mau jalan sama aku nggak? ğŸ¥º</h2>

    <div class="buttons" id="area">
      <button id="yesBtn">Yes ğŸ˜</button>
      <button id="noBtn">No ğŸ˜œ</button>
    </div>
  </div>
</div>

<div class="running">
  <span>ğŸ’˜ ini sebenernya so so an so sweet aja ğŸ’˜ Happy Valentine yang tidak merayakan aku tidak merayakan valentinenya  ğŸ’˜ ini cuma iseng iseng bikin gini an wkwk ğŸ’˜</span>
</div>

<!-- AUDIO -->
<audio id="music" preload="none">
  <source src="Timur.mp3" type="audio/mpeg">
</audio>

<audio id="music2" preload="none">
  <source src="MyEverything.mp3" type="audio/mpeg">
</audio>

<script>
const opening = document.getElementById("opening");
const music   = document.getElementById("music");
const music2 = document.getElementById("music2");

/* PLAY OPENING */
opening.onclick=()=>{
  opening.classList.add("fade-out");
  music.volume=0;
  music.play().catch(()=>{});
  let v=0;
  const fade=setInterval(()=>{
    v+=0.05;
    music.volume=v;
    if(v>=1) clearInterval(fade);
  },100);
};

/* STOP ALL MUSIC */
function stopAll(){
  [music,music2].forEach(m=>{
    if(!m) return;
    m.pause();
    m.currentTime=0;
  });
}

document.addEventListener("visibilitychange",()=>{
  if(document.hidden) stopAll(); 
});
window.addEventListener("pagehide",stopAll);
window.addEventListener("beforeunload",stopAll);
window.addEventListener("blur",stopAll);
  
 /* ===== PLAY MUSIC (AMAN iOS / IG) ===== */
/*opening.addEventListener("click",()=>{
  opening.classList.add("fade-out");
  music.volume = 0;
  music.play().catch(()=>{});
  let v=0;
  const fade=setInterval(()=>{
    v+=0.05;
    music.volume=v;
    if(v>=1) clearInterval(fade);
  },100);
}); */

/* ===== HARD STOP AUDIO (FINAL FIX) ===== */
/*function hardStopMusic(){
  if(!music) return;
  music.pause();
  music.currentTime = 0;
}

document.addEventListener("visibilitychange",()=>{
  if(document.hidden) hardStopMusic();
});

window.addEventListener("pagehide", hardStopMusic);
window.addEventListener("beforeunload", hardStopMusic);
window.addEventListener("blur", hardStopMusic); */

/* ==== AUTO PAUSE / RESUME (FINAL FIX IOS) ==== */
/*function pauseMusic(){
  if(!music.paused) music.pause();
}
function resumeMusic(){
  if(!opening.classList.contains("hide")) return;
  music.play().catch(()=>{});
}

document.addEventListener("visibilitychange",()=>{
  document.hidden ? pauseMusic() : resumeMusic();
}); */

/* ===== NO BUTTON FIX (MOBILE SAFE) ===== */
const noBtn=document.getElementById("noBtn");
const area=document.getElementById("area");

function moveNo(){
  const maxX=area.clientWidth-noBtn.offsetWidth;
  const maxY=area.clientHeight-noBtn.offsetHeight;
  noBtn.style.left=Math.random()*maxX+"px";
  noBtn.style.top=Math.random()*maxY+"px";
}

["mouseenter","touchstart","pointerdown"].forEach(e=>{
  noBtn.addEventListener(e,ev=>{
    ev.preventDefault();
    moveNo();
  });
});

/* ===== HEART RAIN ===== */
setInterval(()=>{
  const h=document.createElement("div");
  h.className="heart";
  h.textContent="ğŸ’–";
  h.style.left=Math.random()*100+"vw";
  h.style.animationDuration=(Math.random()*2+3)+"s";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),5000);
},350);

/* ===== YES CLICK ===== */
document.getElementById("yesBtn").onclick=()=>{

  music2.volume=1;
  music2.play().catch(()=>{});

  const voice=new SpeechSynthesisUtterance(
    "Yeayyyy! Aila mau jalan sama aku hehehehe");
  voice.lang="id-ID";
  voice.rate=.95;
  voice.pitch=1.2;
  speechSynthesis.speak(voice);

  document.body.style.transition="opacity 1.2s";
  document.body.style.opacity="0";

  setTimeout(()=>{
    document.body.innerHTML=`
      <div class="container">
        <div class="card">
          <h1 style="color:#f0ddea">
            YEAYYY ğŸ’•<br>Aila mau jalan sama aku hehe ğŸ˜†ğŸ’˜
          </h1>
        </div>
      </div>
      <div class="running">
        <span>ğŸ’– Assiiikkk seneng banget ğŸ’–ğŸ’– Senyum dikit gapapa si ğŸ˜œğŸ’–</span>
      </div>
    `;
    document.body.style.opacity="1";
  },1200);
};
</script>

</body>
</html>
